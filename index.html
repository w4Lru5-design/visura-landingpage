<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visura - Ultimate Prompt Generator for Cinematic AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0f23, #1a1a3a);
            color: #ffffff;
            line-height: 1.6;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 50%, #2d1b69 100%);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero-content {
            max-width: 800px;
            z-index: 1;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: brightness(1); }
            to { filter: brightness(1.2); }
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: #b8b8d1;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            font-weight: bold;
            text-decoration: none;
            color: #ffffff;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
            margin-bottom: 2rem;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.4);
        }

        /* How It Works Section */
        .how-it-works {
            padding: 5rem 2rem;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #ffffff;
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .step {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .step:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .step-number {
            display: inline-block;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: bold;
            line-height: 60px;
            margin-bottom: 1rem;
        }

        .step h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: #ffffff;
        }

        .step p {
            color: #b8b8d1;
            font-size: 1rem;
        }

        /* Generator Section */
        .generator-section {
            padding: 3rem 2rem;
            background: rgba(0, 0, 0, 0.2);
        }

        .generator-wrapper {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(26, 26, 58, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        /* Footer */
        .footer {
            padding: 2rem;
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer p {
            color: #b8b8d1;
            font-size: 0.9rem;
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        .scroll-arrow {
            font-size: 2rem;
            color: #4ecdc4;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero {
                min-height: 90vh;
                padding: 1rem;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .steps {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .how-it-works {
                padding: 3rem 1rem;
            }

            .generator-section {
                padding: 2rem 1rem;
            }
        }

        /* Custom styles for the embedded generator */
        .visura-generator {
            padding: 0 !important;
            margin: 0 !important;
            background: transparent !important;
            border-radius: 0 !important;
            max-width: none !important;
        }

        .visura-generator h1 {
            display: none !important;
        }

        .preset-description {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 14px;
            border-left: 3px solid #4ecdc4;
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Visura</h1>
            <p>The Ultimate Prompt Generator for Cinematic AI.<br>
               Create stunning, movie-quality images with Midjourney.<br>
               <strong>Precise. Intuitive. By filmmakers for filmmakers.</strong></p>
            <a href="#generator" class="cta-button">Start Creating Now - Free</a>
            
            <div class="scroll-indicator">
                <div class="scroll-arrow">↓</div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Choose Your Style</h3>
                    <p>Select from legendary directors like Wes Anderson, Christopher Nolan, or Sofia Coppola. Each preset captures their unique cinematic signature.</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>Customize Details</h3>
                    <p>Fine-tune camera settings, lighting, composition, and mood. Our tool gives you professional-level control over every cinematic element.</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>Generate & Create</h3>
                    <p>Get a perfectly optimized Midjourney prompt. Copy it directly and watch your vision come to life with stunning, film-quality results.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Generator Section -->
    <section class="generator-section" id="generator">
        <div class="container">
            <h2 class="section-title">Try It Now - Completely Free</h2>
            <div class="generator-wrapper">
                <div id="visura-generator-container"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Visura. Made with ❤️ for the creative community.</p>
        </div>
    </footer>

    <!-- React and Generator Scripts -->
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Improved signature styles with corrected values and additional presets
        const signatureStyles = {
          "Wes Anderson": {
            genre: "Drama",
            aspectRatio: "16:9",
            camera: "Arri Alexa 65",
            shot: "Medium Shot",
            lens: "50mm",
            composition: "Centered symmetrical framing",
            wardrobe: "Vintage suits, pastel colors",
            actor: "Eccentric, quirky",
            emotion: "Melancholy, whimsical",
            posture: "Symmetrical, precise",
            setDesign: "Storybook sets with intricate details",
            lighting: "Soft, flat lighting",
            imperfections: "Light dust particles, subtle grain",
            notWanted: "Chaos, asymmetry, dark colors",
            stylize: 250,
            chaos: 15,
            quality: 1,
            imageWeight: 0.5,
            additionalKeywords: "deadpan, distinctive color palette",
            description: "Perfect symmetry, pastel colors, and whimsical storytelling. Creates distinctive tableau-style shots with meticulous attention to detail."
          },
          "Christopher Nolan": {
            genre: "Thriller",
            aspectRatio: "21:9",
            camera: "IMAX camera",
            shot: "Wide Shot",
            lens: "65mm IMAX",
            composition: "Dynamic angles with geometric patterns",
            wardrobe: "Modern suits, professional attire",
            actor: "Intense, focused",
            emotion: "Tension, urgency",
            posture: "Alert, purposeful",
            setDesign: "Urban environments, sleek interiors",
            lighting: "High contrast, dramatic shadows",
            imperfections: "Sharp focus, minimal grain",
            notWanted: "Soft focus, warm tones, static shots",
            stylize: 200,
            chaos: 10,
            quality: 1,
            imageWeight: 0.5,
            additionalKeywords: "complex narrative structure",
            description: "Epic scale cinematography with complex narratives. Features dramatic lighting, urban settings, and mind-bending visual concepts."
          },
          "Sofia Coppola": {
            genre: "Drama",
            aspectRatio: "4:5",
            camera: "16mm film camera",
            shot: "Close-up",
            lens: "85mm",
            composition: "Intimate framing with natural elements",
            wardrobe: "Elegant, minimalistic fashion",
            actor: "Subtle, introspective",
            emotion: "Melancholy, contemplative",
            posture: "Graceful, relaxed",
            setDesign: "Luxury hotels, minimalist interiors",
            lighting: "Natural light, soft pastels",
            imperfections: "Film halation, soft grain",
            notWanted: "Harsh lighting, busy backgrounds, loud colors",
            stylize: 200,
            chaos: 10,
            quality: 1,
            imageWeight: 0.5,
            additionalKeywords: "ethereal femininity",
            description: "Dreamy, feminine aesthetic with soft pastels. Focuses on intimate moments, luxury settings, and contemplative moods."
          },
          "Alfred Hitchcock": {
            genre: "Thriller",
            aspectRatio: "4:3",
            camera: "35mm film camera",
            shot: "Close-up",
            lens: "50mm",
            composition: "High contrast with dramatic angles",
            wardrobe: "Classic 1950s suits and dresses",
            actor: "Suspicious, paranoid",
            emotion: "Suspense, anxiety",
            posture: "Tense, rigid",
            setDesign: "Victorian mansions, isolated locations",
            lighting: "Chiaroscuro, dramatic shadows",
            imperfections: "Film grain, slight vignette",
            notWanted: "Bright lighting, casual modern clothing, relaxed poses",
            stylize: 150,
            chaos: 5,
            quality: 1,
            imageWeight: 0.7,
            additionalKeywords: "master of suspense, psychological thriller",
            description: "Master of suspense with psychological tension. Features dramatic lighting, classic 1950s aesthetics, and carefully constructed anxiety."
          },
          "Denis Villeneuve": {
            genre: "Science Fiction",
            aspectRatio: "21:9",
            camera: "Arri Alexa 65",
            shot: "Establishing Shot",
            lens: "14mm wide angle",
            composition: "Vast landscapes with minimalist framing",
            wardrobe: "Futuristic, utilitarian clothing",
            actor: "Stoic, contemplative",
            emotion: "Isolation, wonder",
            posture: "Still, monumental",
            setDesign: "Brutalist architecture, desert landscapes",
            lighting: "Cool blue tones, natural light",
            imperfections: "Atmospheric haze, lens flares",
            notWanted: "Warm colors, cluttered compositions, handheld camera",
            stylize: 150,
            chaos: 20,
            quality: 1,
            imageWeight: 0.5,
            additionalKeywords: "Roger Deakins cinematography, epic scale",
            description: "Epic sci-fi landscapes with philosophical depth. Features vast environments, cool color palettes, and contemplative human figures."
          },
          "Quentin Tarantino": {
            genre: "Crime",
            aspectRatio: "21:9",
            camera: "35mm film camera",
            shot: "Medium Shot",
            lens: "40mm",
            composition: "Retro interiors with bold colors",
            wardrobe: "1970s suits, vintage fashion",
            actor: "Charismatic, expressive",
            emotion: "Cool confidence, intensity",
            posture: "Confident, theatrical",
            setDesign: "Retro diners, 1970s interiors",
            lighting: "Saturated colors, dramatic contrast",
            imperfections: "35mm film grain, vintage look",
            notWanted: "Muted colors, modern settings, subtle acting",
            stylize: 150,
            chaos: 35,
            quality: 1,
            imageWeight: 0.5,
            additionalKeywords: "pulp fiction aesthetic, nonlinear narrative",
            description: "Bold retro style with saturated colors. Features 1970s aesthetics, dynamic characters, and iconic pop culture references."
          },
          "Terrence Malick": {
            genre: "Drama",
            aspectRatio: "16:9",
            camera: "65mm film camera",
            shot: "Wide Shot",
            lens: "24mm wide angle",
            composition: "Natural landscapes with flowing movement",
            wardrobe: "Natural, earth-toned clothing",
            actor: "Contemplative, natural",
            emotion: "Spiritual, meditative",
            posture: "Flowing, organic",
            setDesign: "Natural environments, golden hour fields",
            lighting: "Golden hour, natural sunlight",
            imperfections: "Lens flares, organic movement",
            notWanted: "Artificial lighting, urban settings, rigid composition",
            stylize: 300,
            chaos: 40,
            quality: 1,
            imageWeight: 0.3,
            additionalKeywords: "transcendent nature imagery, philosophical",
            description: "Poetic nature cinematography with spiritual themes. Features flowing camera movements, golden hour lighting, and transcendent landscapes."
          },
          "David Fincher": {
            genre: "Thriller",
            aspectRatio: "21:9",
            camera: "Red camera",
            shot: "Tracking Shot",
            lens: "35mm",
            composition: "Precise geometric framing",
            wardrobe: "Dark modern clothing, minimalist",
            actor: "Cold, calculating",
            emotion: "Paranoia, precision",
            posture: "Controlled, methodical",
            setDesign: "Modern offices, sterile environments",
            lighting: "Cool green/blue tones, controlled lighting",
            imperfections: "Digital precision, clean shadows",
            notWanted: "Warm colors, handheld camera, organic textures",
            stylize: 100,
            chaos: 5,
            quality: 1,
            imageWeight: 0.8,
            additionalKeywords: "digital precision, psychological thriller",
            description: "Precise digital cinematography with psychological edge. Features controlled lighting, sterile environments, and methodical camera work."
          },
          "Stanley Kubrick": {
            genre: "Science Fiction",
            aspectRatio: "4:3",
            camera: "35mm film camera",
            shot: "Long Shot",
            lens: "50mm",
            composition: "Symmetrical, one-point perspective",
            wardrobe: "Period-appropriate, meticulous detail",
            actor: "Stoic, unsettling",
            emotion: "Unease, isolation",
            posture: "Rigid, geometric",
            setDesign: "Geometric interiors, institutional spaces",
            lighting: "Practical lighting, natural sources",
            imperfections: "Film grain, natural depth",
            notWanted: "Handheld camera, warm intimate lighting, casual poses",
            stylize: 200,
            chaos: 0,
            quality: 1,
            imageWeight: 0.5,
            additionalKeywords: "perfectionist composition, psychological intensity",
            description: "Meticulous symmetrical compositions with psychological depth. Features geometric precision, practical lighting, and unsettling atmosphere."
          },
          "Ridley Scott": {
            genre: "Science Fiction",
            aspectRatio: "21:9",
            camera: "Alexa 65",
            shot: "Establishing Shot",
            lens: "24mm",
            composition: "Epic scale with atmospheric depth",
            wardrobe: "Futuristic armor, weathered clothing",
            actor: "Heroic, determined",
            emotion: "Epic grandeur, survival",
            posture: "Heroic, battle-ready",
            setDesign: "Alien worlds, industrial megastructures",
            lighting: "Atmospheric lighting, smoke and haze",
            imperfections: "Atmospheric particles, battle wear",
            notWanted: "Clean environments, bright colors, intimate framing",
            stylize: 180,
            chaos: 25,
            quality: 1,
            imageWeight: 0.6,
            additionalKeywords: "epic science fiction, atmospheric",
            description: "Epic sci-fi with atmospheric grandeur. Features alien worlds, heroic characters, and cinematic scale with dramatic lighting."
          }
        };

        const defaultParameters = {
          genre: "",
          aspectRatio: "",
          camera: "",
          lens: "",
          composition: "",
          shot: "",
          actor: "",
          emotion: "",
          posture: "",
          wardrobe: "",
          setDesign: "",
          lighting: "",
          imperfections: "",
          notWanted: "",
          additionalKeywords: null,
          repeat: null,
          chaos: 0,
          imageWeight: 0.5,
          stylize: 100,
          seed: null,
          tile: false,
          quality: 1,
          upbeta: false,
          uplight: false,
          stopEarlierAt: null,
          description: ""
        };

        const options = {
          genre: [
            "Action", "Adventure", "Animation", "Biography", "Comedy", "Crime",
            "Documentary", "Drama", "Family", "Fantasy", "Film Noir", "History",
            "Horror", "Musical", "Mystery", "Romance", "Science Fiction",
            "Sport", "Thriller", "War", "Western",
          ],
          aspectRatio: [
            "1:1", "4:3", "3:2", "16:9", "4:5", "9:16", "21:9", "32:9"
          ],
          shot: [
            "Extreme Close-up", "Close-up", "Medium Close-up", "Medium Shot", "Medium Wide Shot",
            "Wide Shot", "Long Shot", "Establishing Shot", "Point-of-View Shot", "Over-the-Shoulder Shot", 
            "Two Shot", "Dutch Angle", "Low Angle", "High Angle", "Bird's Eye View", "Worm's Eye View",
            "Tracking Shot", "Pan Shot", "Tilt Shot", "Dolly Shot", "Zoom Shot", "Handheld Shot"
          ],
          camera: [
            "Arri Alexa 65", "Arri Alexa Mini", "RED Weapon 8K", "Sony FX9", "Canon C300 Mark III",
            "Blackmagic URSA Mini Pro", "35mm film camera", "16mm film camera", "Super 8 camera",
            "IMAX camera", "Panavision camera", "Steadicam", "Handheld camera", "Drone camera"
          ],
          lens: [
            "14mm", "24mm", "35mm", "50mm", "85mm", "135mm", "24-70mm", "70-200mm",
            "Wide angle lens", "Telephoto lens", "Prime lens", "Zoom lens", "Macro lens",
            "Fisheye lens", "Anamorphic lens", "Vintage lens"
          ],
          composition: [
            "Rule of thirds", "Centered symmetrical framing", "Leading lines", "Golden ratio",
            "Frame within frame", "Negative space", "Diagonal composition", "Triangular composition",
            "Depth of field separation", "Foreground/background layering", "Geometric patterns",
            "Natural framing", "Minimalist composition"
          ],
          actor: [
            "Natural, authentic", "Dramatic, expressive", "Stoic, controlled", "Charismatic, confident",
            "Vulnerable, emotional", "Mysterious, enigmatic", "Comedic, animated", "Intense, focused",
            "Eccentric, quirky", "Heroic, determined", "Contemplative, thoughtful"
          ],
          emotion: [
            "Joy, happiness", "Sadness, melancholy", "Fear, anxiety", "Anger, intensity",
            "Love, romance", "Nostalgia, longing", "Suspense, tension", "Wonder, awe",
            "Confidence, power", "Vulnerability, fragility", "Mystery, intrigue"
          ],
          posture: [
            "Relaxed, natural", "Confident, upright", "Tense, rigid", "Graceful, flowing",
            "Powerful, commanding", "Vulnerable, withdrawn", "Alert, ready", "Casual, informal",
            "Dramatic, theatrical", "Symmetrical, precise"
          ],
          wardrobe: [
            "Modern casual", "Business formal", "Vintage 1950s", "Vintage 1970s", "Futuristic sci-fi",
            "Medieval fantasy", "Military tactical", "Bohemian artistic", "Minimalist modern",
            "Punk rock style", "Elegant evening wear", "Weathered adventure gear"
          ],
          setDesign: [
            "Modern urban", "Vintage 1950s diner", "Futuristic laboratory", "Medieval castle",
            "Cozy home interior", "Industrial warehouse", "Luxury hotel", "Desert landscape",
            "Forest environment", "Space station", "Cyberpunk city", "Rural farmhouse"
          ],
          lighting: [
            "Natural daylight", "Golden hour", "Blue hour", "Harsh noon sun", "Soft window light",
            "Dramatic shadows", "Neon lighting", "Candlelight", "Studio lighting", "Moonlight",
            "Fire light", "LED practical lights", "High contrast", "Low key lighting"
          ],
          imperfections: [
            "Film grain", "Lens flares", "Dust particles", "Rain drops", "Scratches",
            "Vignetting", "Chromatic aberration", "Motion blur", "Depth of field blur",
            "Natural skin texture", "Weather effects", "Age and wear"
          ],
          notWanted: [
            "Blurry image", "Oversaturated colors", "Poor lighting", "Cluttered composition",
            "Unnatural poses", "Modern anachronisms", "Digital artifacts", "Overexposed highlights",
            "Underexposed shadows", "Distorted proportions"
          ]
        };

        function VisuraGenerator() {
          const [selectedDirector, setSelectedDirector] = useState("");
          const [form, setForm] = useState(defaultParameters);
          const [description, setDescription] = useState("");
          const [prompt, setPrompt] = useState("");
          const [userPresets, setUserPresets] = useState({});
          const [presetName, setPresetName] = useState("");
          const [copySuccess, setCopySuccess] = useState(false);
          const [showDescription, setShowDescription] = useState("");

          useEffect(() => {
            setPrompt("");
          }, [description]);

          const handleDirectorChange = (directorName) => {
            setSelectedDirector(directorName);
            if (directorName === "") {
              setForm(defaultParameters);
              setShowDescription("");
            } else {
              const preset = signatureStyles[directorName] || userPresets[directorName];
              const newForm = {
                ...defaultParameters,
                ...preset,
              };
              setForm(newForm);
              setShowDescription(preset.description || "");
            }
            setPrompt("");
          };

          const handleChange = (field, value) => {
            setForm((prev) => ({ ...prev, [field]: value }));
          };

          const resetAllFields = () => {
            setForm(defaultParameters);
            setSelectedDirector("");
            setDescription("");
            setPrompt("");
            setShowDescription("");
          };

          const createKeywordGroup = (keywords) => {
            const allWords = keywords
              .join(",")
              .split(",")
              .map((s) => s.trim())
              .filter(Boolean);
            const uniqueWords = [...new Set(allWords)];
            return uniqueWords.join(", ");
          };

          const copyToClipboard = async () => {
            try {
              await navigator.clipboard.writeText(prompt);
              setCopySuccess(true);
              setTimeout(() => setCopySuccess(false), 2000);
            } catch (err) {
              console.error('Failed to copy text: ', err);
            }
          };

          const savePreset = () => {
            if (!presetName.trim()) {
              alert("Please give your preset a name!");
              return;
            }
            if (signatureStyles[presetName]) {
              alert("This name is already reserved for a director.");
              return;
            }

            const presetData = { ...form, description: form.description || `Custom preset: ${presetName}` };
            setUserPresets((prev) => ({
              ...prev,
              [presetName]: presetData,
            }));

            setPresetName("");
            setSelectedDirector(presetName);
            alert(`Preset "${presetName}" successfully saved!`);
          };

          const exportPresets = () => {
            const dataStr = JSON.stringify(userPresets, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'visura-presets.txt';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
          };

          const importPresets = (event) => {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
              try {
                const importedPresets = JSON.parse(e.target.result);
                setUserPresets((prev) => ({ ...prev, ...importedPresets }));
                alert("Presets imported successfully!");
              } catch (error) {
                alert("Error importing presets. Please check the file format.");
              }
            };
            reader.readAsText(file);
            event.target.value = '';
          };

          const renderSelect = (category) => (
            React.createElement('div', { style: { marginBottom: 15 } }, [
              React.createElement('label', {
                key: 'label',
                htmlFor: category,
                style: {
                  display: "block",
                  marginBottom: 5,
                  textTransform: "capitalize",
                  color: "#ffffff"
                }
              }, category + ":"),
              React.createElement('div', {
                key: 'input-container',
                style: { position: "relative", display: "flex", gap: 5 }
              }, [
                React.createElement('input', {
                  key: 'input',
                  id: category,
                  value: form[category],
                  onChange: (e) => handleChange(category, e.target.value),
                  placeholder: `Enter your own ${category}...`,
                  style: {
                    flex: 1,
                    padding: 8,
                    borderRadius: 5,
                    border: "none",
                    fontSize: 16,
                    backgroundColor: "#222",
                    color: "#eee",
                  }
                }),
                React.createElement('select', {
                  key: 'select',
                  onChange: (e) => {
                    if (e.target.value) {
                      handleChange(category, e.target.value);
                      e.target.value = ""; // Reset dropdown
                    }
                  },
                  style: {
                    padding: 8,
                    borderRadius: 5,
                    border: "none",
                    fontSize: 14,
                    backgroundColor: "#333",
                    color: "#eee",
                    cursor: "pointer",
                    minWidth: "120px",
                  }
                }, [
                  React.createElement('option', { key: 'default', value: "" }, "Select preset..."),
                  ...(options[category] ? options[category].map((opt) =>
                    React.createElement('option', { key: opt, value: opt },
                      opt.length > 20 ? opt.substring(0, 17) + "..." : opt
                    )
                  ) : [])
                ])
              ])
            ])
          );

          const generatePrompt = () => {
            if (!description.trim()) {
              setPrompt("Please enter a description first.");
              return;
            }

            const currentPreset =
              signatureStyles[selectedDirector] || userPresets[selectedDirector];

            const mainSubject = `${description}::2`;
            const globalStyleKeywords = "cinematic, highly detailed, photorealistic";

            const isUserPreset = !signatureStyles[selectedDirector] && userPresets[selectedDirector];
            
            const directorAndGenre = createKeywordGroup([
              isUserPreset ? null : `${selectedDirector} style`,
              currentPreset?.additionalKeywords,
              `${form.genre} film`,
            ]);

            const characterDetails = createKeywordGroup([
              form.actor,
              form.emotion,
              form.posture,
              form.wardrobe,
            ]);

            const environmentDetails = createKeywordGroup([
              form.setDesign,
              form.lighting,
              form.imperfections,
            ]);

            const technicalDetails = createKeywordGroup([
              form.camera,
              form.shot,
              form.lens,
              form.composition,
            ]);

            let promptParts = [
              mainSubject,
              globalStyleKeywords,
              directorAndGenre,
              characterDetails,
              environmentDetails,
              technicalDetails,
            ];

            const finalPromptText = promptParts.filter(Boolean).join(", ");
            let finalPrompt = finalPromptText;

            if (form.aspectRatio) finalPrompt += ` --ar ${form.aspectRatio}`;
            if (form.stylize) finalPrompt += ` --s ${form.stylize}`;
            if (form.chaos) finalPrompt += ` --c ${form.chaos}`;
            if (form.repeat) finalPrompt += ` --repeat ${form.repeat}`;
            if (form.imageWeight) finalPrompt += ` --iw ${form.imageWeight}`;
            if (form.seed) finalPrompt += ` --seed ${form.seed}`;
            if (form.tile) finalPrompt += ` --tile`;
            if (form.quality) finalPrompt += ` --q ${form.quality}`;
            if (form.upbeta) finalPrompt += ` --upbeta`;
            if (form.uplight) finalPrompt += ` --uplight`;
            if (form.stopEarlierAt) finalPrompt += ` --stop ${form.stopEarlierAt}`;

            finalPrompt += ` --v 6`;
            if (form.notWanted) finalPrompt += ` --no ${form.notWanted}`;

            setPrompt(finalPrompt);
          };

          return React.createElement('div', {
            className: 'visura-generator',
            style: {
              padding: 20,
              fontFamily: "Arial, sans-serif",
              backgroundColor: "transparent",
              color: "#f0f0f0",
            }
          }, [
            // Preset Selection
            React.createElement('label', {
              key: 'preset-label',
              style: { display: "block", marginTop: 15, color: "#ffffff" }
            }, "Select Preset:"),
            React.createElement('select', {
              key: 'preset-select',
              value: selectedDirector,
              onChange: (e) => handleDirectorChange(e.target.value),
              style: {
                width: "100%",
                padding: 8,
                borderRadius: 5,
                border: "none",
                marginBottom: 10,
                fontSize: 16,
                backgroundColor: "#333",
                color: "#fff",
              }
            }, [
              React.createElement('option', { key: 'empty', value: "" }, "None - Start Empty"),
              React.createElement('optgroup', { key: 'directors', label: "Director Presets" },
                Object.keys(signatureStyles).map((dir) =>
                  React.createElement('option', { key: dir, value: dir }, dir)
                )
              ),
              Object.keys(userPresets).length > 0 && React.createElement('optgroup', { key: 'user', label: "My Presets" },
                Object.keys(userPresets).map((preset) =>
                  React.createElement('option', { key: preset, value: preset }, preset)
                )
              )
            ]),

            // Preset Description
            showDescription && React.createElement('div', {
              key: 'preset-description',
              className: 'preset-description'
            }, showDescription),

            // Reset and Import/Export buttons
            React.createElement('div', {
              key: 'action-buttons',
              style: { display: "flex", gap: 10, marginBottom: 20, flexWrap: "wrap" }
            }, [
              React.createElement('button', {
                key: 'reset-button',
                onClick: resetAllFields,
                style: {
                  padding: "8px 16px",
                  fontSize: 14,
                  fontWeight: "bold",
                  color: "#fff",
                  backgroundColor: "#dc3545",
                  border: "none",
                  borderRadius: 5,
                  cursor: "pointer",
                }
              }, "Reset All Fields"),
              React.createElement('button', {
                key: 'export-button',
                onClick: exportPresets,
                disabled: Object.keys(userPresets).length === 0,
                style: {
                  padding: "8px 16px",
                  fontSize: 14,
                  fontWeight: "bold",
                  color: "#fff",
                  backgroundColor: Object.keys(userPresets).length === 0 ? "#666" : "#17a2b8",
                  border: "none",
                  borderRadius: 5,
                  cursor: Object.keys(userPresets).length === 0 ? "not-allowed" : "pointer",
                }
              }, "Export My Presets"),
              React.createElement('label', {
                key: 'import-label',
                style: {
                  padding: "8px 16px",
                  fontSize: 14,
                  fontWeight: "bold",
                  color: "#fff",
                  backgroundColor: "#ffc107",
                  border: "none",
                  borderRadius: 5,
                  cursor: "pointer",
                  display: "inline-block"
                }
              }, [
                "Import Presets",
                React.createElement('input', {
                  key: 'import-input',
                  type: "file",
                  accept: ".txt,.json",
                  onChange: importPresets,
                  style: { display: "none" }
                })
              ])
            ]),

            // Save Preset
            React.createElement('div', {
              key: 'save-preset',
              style: { display: "flex", gap: 15, alignItems: "flex-end", marginBottom: 20 }
            }, [
              React.createElement('div', { key: 'input-wrapper', style: { flex: 1 } }, [
                React.createElement('label', {
                  key: 'save-label',
                  style: { display: "block", marginBottom: 5, color: "#ffffff" }
                }, "Save Current Settings as New Preset:"),
                React.createElement('input', {
                  key: 'save-input',
                  type: "text",
                  value: presetName,
                  onChange: (e) => setPresetName(e.target.value),
                  placeholder: "Enter preset name",
                  style: {
                    width: "100%",
                    padding: 8,
                    borderRadius: 5,
                    border: "none",
                    fontSize: 16,
                    backgroundColor: "#222",
                    color: "#eee",
                  }
                })
              ]),
              React.createElement('button', {
                key: 'save-button',
                onClick: savePreset,
                style: {
                  padding: 8,
                  fontSize: 16,
                  fontWeight: "bold",
                  color: "#fff",
                  backgroundColor: "#28a745",
                  border: "none",
                  borderRadius: 5,
                  cursor: "pointer",
                  whiteSpace: "nowrap",
                }
              }, "Save")
            ]),

            // Description
            React.createElement('label', {
              key: 'desc-label',
              style: { display: "block", marginTop: 25, color: "#ffffff" }
            }, "Description:"),
            React.createElement('textarea', {
              key: 'description',
              value: description,
              onChange: (e) => setDescription(e.target.value),
              placeholder: "Enter your description here...",
              rows: 4,
              style: {
                width: "100%",
                padding: 10,
                borderRadius: 5,
                border: "none",
                fontSize: 16,
                backgroundColor: "#222",
                color: "#eee",
                resize: "vertical",
                marginBottom: 15,
              }
            }),

            // Genre and Aspect Ratio
            React.createElement('div', {
              key: 'genre-aspect',
              style: { display: "flex", gap: 15, marginBottom: 20 }
            }, [
              React.createElement('div', { key: 'genre', style: { flex: 1 } }, renderSelect("genre")),
              React.createElement('div', { key: 'aspect', style: { flex: 1 } }, renderSelect("aspectRatio"))
            ]),

            // Cinematic Details
            React.createElement('h2', {
              key: 'cinematic-title',
              style: { marginTop: 30, color: "#ffffff" }
            }, "Cinematic Details:"),
            renderSelect("setDesign"),
            renderSelect("wardrobe"),
            renderSelect("lighting"),
            renderSelect("camera"),
            renderSelect("lens"),
            renderSelect("shot"),
            renderSelect("composition"),
            renderSelect("actor"),
            renderSelect("emotion"),
            renderSelect("posture"),
            renderSelect("imperfections"),
            renderSelect("notWanted"),

            // Midjourney Parameters
            React.createElement('h2', {
              key: 'params-title',
              style: { marginTop: 30, color: "#ffffff" }
            }, "Midjourney Parameters:"),
            React.createElement('div', {
              key: 'params-grid',
              style: {
                display: "grid",
                gridTemplateColumns: "repeat(3, 1fr)",
                gap: "10px",
                marginBottom: 20,
              }
            }, [
              // Chaos
              React.createElement('div', { key: 'chaos' }, [
                React.createElement('label', {
                  key: 'chaos-label',
                  style: { fontSize: "14px", fontWeight: "bold", color: "#ffffff" }
                }, "Chaos (--c):"),
                React.createElement('input', {
                  key: 'chaos-input',
                  type: "number",
                  min: "0",
                  max: "100",
                  value: form.chaos,
                  onChange: (e) => handleChange("chaos", e.target.value),
                  style: {
                    width: "100%",
                    padding: 6,
                    borderRadius: 4,
                    border: "none",
                    fontSize: 14,
                    backgroundColor: "#222",
                    color: "#eee",
                    marginTop: 2,
                  }
                })
              ]),
              // Stylize
              React.createElement('div', { key: 'stylize' }, [
                React.createElement('label', {
                  key: 'stylize-label',
                  style: { fontSize: "14px", fontWeight: "bold", color: "#ffffff" }
                }, "Stylize (--s):"),
                React.createElement('input', {
                  key: 'stylize-input',
                  type: "number",
                  min: "0",
                  max: "1000",
                  value: form.stylize,
                  onChange: (e) => handleChange("stylize", e.target.value),
                  style: {
                    width: "100%",
                    padding: 6,
                    borderRadius: 4,
                    border: "none",
                    fontSize: 14,
                    backgroundColor: "#222",
                    color: "#eee",
                    marginTop: 2,
                  }
                })
              ]),
              // Quality
              React.createElement('div', { key: 'quality' }, [
                React.createElement('label', {
                  key: 'quality-label',
                  style: { fontSize: "14px", fontWeight: "bold", color: "#ffffff" }
                }, "Quality (--q):"),
                React.createElement('input', {
                  key: 'quality-input',
                  type: "number",
                  step: "0.25",
                  min: "0.25",
                  max: "1",
                  value: form.quality,
                  onChange: (e) => handleChange("quality", e.target.value),
                  style: {
                    width: "100%",
                    padding: 6,
                    borderRadius: 4,
                    border: "none",
                    fontSize: 14,
                    backgroundColor: "#222",
                    color: "#eee",
                    marginTop: 2,
                  }
                })
              ]),
              // Seed
              React.createElement('div', { key: 'seed' }, [
                React.createElement('label', {
                  key: 'seed-label',
                  style: { fontSize: "14px", fontWeight: "bold", color: "#ffffff" }
                }, "Seed (--seed):"),
                React.createElement('input', {
                  key: 'seed-input',
                  type: "number",
                  value: form.seed || "",
                  onChange: (e) => handleChange("seed", e.target.value),
                  placeholder: "Random",
                  style: {
                    width: "100%",
                    padding: 6,
                    borderRadius: 4,
                    border: "none",
                    fontSize: 14,
                    backgroundColor: "#222",
                    color: "#eee",
                    marginTop: 2,
                  }
                })
              ]),
              // Image Weight
              React.createElement('div', { key: 'imageWeight' }, [
                React.createElement('label', {
                  key: 'imageWeight-label',
                  style: { fontSize: "14px", fontWeight: "bold", color: "#ffffff" }
                }, "Image Weight (--iw):"),
                React.createElement('input', {
                  key: 'imageWeight-input',
                  type: "number",
                  min: "0",
                  max: "2",
                  step: "0.1",
                  value: form.imageWeight,
                  onChange: (e) => handleChange("imageWeight", e.target.value),
                  placeholder: "0.5",
                  style: {
                    width: "100%",
                    padding: 6,
                    borderRadius: 4,
                    border: "none",
                    fontSize: 14,
                    backgroundColor: "#222",
                    color: "#eee",
                    marginTop: 2,
                  }
                })
              ]),
              // Stop At
              React.createElement('div', { key: 'stopEarlierAt' }, [
                React.createElement('label', {
                  key: 'stopEarlierAt-label',
                  style: { fontSize: "14px", fontWeight: "bold", color: "#ffffff" }
                }, "Stop At (--stop):"),
                React.createElement('input', {
                  key: 'stopEarlierAt-input',
                  type: "number",
                  min: "10",
                  max: "100",
                  value: form.stopEarlierAt || "",
                  onChange: (e) => handleChange("stopEarlierAt", e.target.value),
                  placeholder: "10-100",
                  style: {
                    width: "100%",
                    padding: 6,
                    borderRadius: 4,
                    border: "none",
                    fontSize: 14,
                    backgroundColor: "#222",
                    color: "#eee",
                    marginTop: 2,
                  }
                })
              ])
            ]),

            // Checkboxes
            React.createElement('div', {
              key: 'checkboxes',
              style: { display: "flex", gap: 15, flexWrap: "wrap", marginBottom: 20 }
            }, [
              React.createElement('label', {
                key: 'tile-checkbox',
                style: { display: "flex", alignItems: "center", gap: 8, fontSize: 14, cursor: "pointer", color: "#ffffff" }
              }, [
                React.createElement('input', {
                  key: 'tile-input',
                  type: "checkbox",
                  checked: form.tile,
                  onChange: (e) => handleChange("tile", e.target.checked),
                  style: { width: 16, height: 16 }
                }),
                "Tile (--tile)"
              ]),
              React.createElement('label', {
                key: 'upbeta-checkbox',
                style: { display: "flex", alignItems: "center", gap: 8, fontSize: 14, cursor: "pointer", color: "#ffffff" }
              }, [
                React.createElement('input', {
                  key: 'upbeta-input',
                  type: "checkbox",
                  checked: form.upbeta,
                  onChange: (e) => handleChange("upbeta", e.target.checked),
                  style: { width: 16, height: 16 }
                }),
                "Upbeta (--upbeta)"
              ]),
              React.createElement('label', {
                key: 'uplight-checkbox',
                style: { display: "flex", alignItems: "center", gap: 8, fontSize: 14, cursor: "pointer", color: "#ffffff" }
              }, [
                React.createElement('input', {
                  key: 'uplight-input',
                  type: "checkbox",
                  checked: form.uplight,
                  onChange: (e) => handleChange("uplight", e.target.checked),
                  style: { width: 16, height: 16 }
                }),
                "Uplight (--uplight)"
              ])
            ]),

            // Generate Button
            React.createElement('button', {
              key: 'generate-button',
              onClick: generatePrompt,
              style: {
                marginTop: 20,
                width: "100%",
                padding: 12,
                fontSize: 18,
                fontWeight: "bold",
                color: "#fff",
                backgroundColor: "#007bff",
                border: "none",
                borderRadius: 6,
                cursor: "pointer",
              }
            }, "Generate Prompt"),

            // Generated Prompt
            prompt && React.createElement('div', {
              key: 'prompt-section',
              style: { marginTop: 25 }
            }, [
              React.createElement('div', {
                key: 'prompt-header',
                style: { display: "flex", gap: 10, alignItems: "center", marginBottom: 10 }
              }, [
                React.createElement('h3', {
                  key: 'prompt-title',
                  style: { margin: 0, flex: 1, color: "#ffffff" }
                }, "/imagine"),
                React.createElement('button', {
                  key: 'copy-button',
                  onClick: copyToClipboard,
                  style: {
                    padding: "8px 16px",
                    fontSize: 14,
                    fontWeight: "bold",
                    color: "#fff",
                    backgroundColor: copySuccess ? "#28a745" : "#6c757d",
                    border: "none",
                    borderRadius: 5,
                    cursor: "pointer",
                    transition: "background-color 0.3s",
                  }
                }, copySuccess ? "✓ Copied!" : "Copy Prompt")
              ]),
              React.createElement('pre', {
                key: 'prompt-text',
                style: {
                  backgroundColor: "#222",
                  padding: 15,
                  borderRadius: 8,
                  fontSize: 15,
                  whiteSpace: "pre-wrap",
                  wordBreak: "break-word",
                  color: "#0f0",
                  margin: 0,
                }
              }, prompt)
            ])
          ]);
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Render the generator
        ReactDOM.render(React.createElement(VisuraGenerator), document.getElementById('visura-generator-container'));
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
</body>
</html>
